<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Kundlista</title>
</head>
<body>
<h1>Kunder</h1>
<table border="1">
  <thead>
  <tr>
    <th>Id</th>
    <th>FÃ¶rnamn</th>
    <th>Efternamn</th>
    <th>Email</th>
    <th>Ã…tgÃ¤rder</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="customer : ${customers}">
    <td th:text="${customer.id}">1</td>
    <td th:text="${customer.firstName}">FÃ¶rnamn</td>
    <td th:text="${customer.lastName}">Efternamn</td>
    <td th:text="${customer.email}">email@example.com</td>
    <td>
      <a th:href="@{'/customers/details/' + ${customer.id}}">Detaljer</a> |
      <a th:href="@{'/customers/edit/' + ${customer.id}}">Redigera</a> |
      <form th:action="@{/customers/{id}/delete(id=${customer.id})}" method="post" style="display:inline;">
        <button type="submit"
                th:disabled="${customer.hasBookings}"
                th:title="${customer.hasBookings} ? 'Kan inte ta bort kund med bokningar' : 'Ta bort kund'"
                onclick="return confirm('Ã„r du sÃ¤ker pÃ¥ att du vill ta bort denna kund?');">
          ğŸ—‘ Ta bort
        </button>
      </form>

      <a th:if="${customer.hasBookings}" th:href="@{/orders/details/{id}(id=${customer.id})}">
        ğŸ“‹ Visa bokningar
      </a>

    </td>
  </tr>
  </tbody>
</table>

<a th:href="@{/customers/new}">Ny kund</a>
<br>
<a href="/">Tillbaka</a>

</body>
</html>